{{define "layout"}}
<!DOCTYPE html>
<html lang="fr" hx-boost="true">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{{.Title}} · Pellets Tracker</title>
  <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@2.0.6/css/pico.min.css">
  <link rel="stylesheet" href="/static/app.css">
  <script src="https://unpkg.com/htmx.org@1.9.12" defer></script>
  <script src="https://unpkg.com/alpinejs@3.14.0" defer></script>
  <script src="/static/app.js" defer></script>
</head>
<body class="app-shell">
  <header class="app-hero">
    <div class="container hero-grid">
      <div class="hero-brand">
        <span class="hero-logo" aria-hidden="true">🔥</span>
        <div class="hero-text">
          <h1>Pellets Tracker</h1>
          <p>Suivez vos achats, votre stock et vos consommations de granulés en un clin d'œil.</p>
        </div>
      </div>
      <nav class="main-nav" aria-label="Navigation principale">
        <a href="/" class="nav-link {{if eq .ActiveNav "purchases"}}active{{end}}"><span>🛒</span>Achats</a>
        <a href="/consommations" class="nav-link {{if eq .ActiveNav "consumptions"}}active{{end}}"><span>🔥</span>Consommations</a>
        <a href="/stats" class="nav-link {{if eq .ActiveNav "stats"}}active{{end}}"><span>📊</span>Statistiques</a>
        <a href="/marques" class="nav-link {{if eq .ActiveNav "brands"}}active{{end}}"><span>🏷️</span>Marques</a>
      </nav>
    </div>
  </header>
  <main class="container page-content">
    {{if .Flash}}
    <div class="flash {{if eq .Flash.Kind "success"}}flash-success{{else}}flash-error{{end}}">{{.Flash.Message}}</div>
    {{end}}
    {{block "content" .}}{{end}}
  </main>
  <footer class="footer">
    <div class="container">
      Interface mobile-first propulsée par htmx · Statistiques FIFO et export JSON/CSV.
    </div>
  </footer>
</body>
</html>
{{end}}
